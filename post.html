<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„ | Dandy</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet" />
        <!-- Google Fonts: Cairo + Tajawal -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />
  <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">

  <style>
    :root {
      --neon-pink: #ff2ec4;
      --neon-cyan: #00f7ff;
      --text: #e8eaf1;
      --muted: #b3b3b3;
      --glass-blur: blur(12px);
      --bg-panel: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    }
    body {background:#0a0a0f;color:var(--text);font-family:'Tajawal','Cairo',sans-serif;margin:0;padding-top:0}

    /* Ø§Ù„Ù…Ù‚Ø§Ù„ */
    .post-container{max-width:850px;margin:6rem auto;padding:1.5rem;background:var(--bg-panel);border-radius:12px}
    .post-container img{width:100%;border-radius:12px;margin-bottom:1rem}
    .post-container h1{margin:0 0 1rem;font-size:2rem}
    .post-container .date{font-size:0.9rem;color:var(--muted);margin-bottom:1.2rem}
    .post-content{line-height:1.8;font-size:1.05rem}

    /* ======= Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ù‚ØªØ±Ø­Ø© â€” ØªØµÙ…ÙŠÙ… Ø¬Ø¯ÙŠØ¯ Ø£Ø­Ø³Ù† ======= */
    .suggested{margin:3rem auto;max-width:1200px;padding:0 1rem}
    .suggested h2{text-align:center;margin-bottom:1.6rem}

    /* grid responsive with nicer gaps */
    .suggested-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem}

    /* card */
    .suggested-card{background:var(--bg-panel);border-radius:12px;overflow:hidden;display:flex;flex-direction:column;transition:transform .28s ease,box-shadow .28s ease;border:1px solid rgba(255,255,255,0.04)}
    .suggested-card:hover{transform:translateY(-8px);box-shadow:0 18px 40px rgba(0,0,0,0.6)}

    .suggested-thumb{width:100%;height:160px;overflow:hidden;flex-shrink:0}
    .suggested-thumb img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .45s ease}
    .suggested-card:hover .suggested-thumb img{transform:scale(1.06)}

    .suggested-body{padding:12px;display:flex;flex-direction:column;gap:8px}
    .suggested-body h3{margin:0;font-size:1.05rem;color:var(--text)}
    .suggested-body .meta{font-size:0.85rem;color:var(--muted)}
    .suggested-body p{margin:0;color:var(--muted);font-size:0.95rem;line-height:1.45;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}

    /* footer of card */
    .suggested-footer{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
    .suggested-footer a{padding:8px 12px;border-radius:10px;text-decoration:none;font-weight:700;background:linear-gradient(135deg,var(--neon-pink),var(--neon-cyan));color:#041017}

    /* small badge for category */
    .cat-badge{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);color:var(--muted);font-weight:700;font-size:0.78rem}

    /* empty state */
    .empty-msg{color:var(--muted);text-align:center;padding:2rem 1rem}

    @media (max-width:600px){.suggested-thumb{height:140px}}
  </style>
</head>
<body>

<!-- Navigation (kept unchanged) -->
<nav dir="rtl">
  <div class="logo"><img src="images/logo.png" alt="Ø§Ù„Ø´Ø¹Ø§Ø±" /><h1>DANDY</h1></div>
  <ul>
    <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
    <li><a href="all-products.html">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
    <li><a href="special-offers.html">Ø§Ù„Ø¹Ø±ÙˆØ¶</a></li>
    <li><a href="blog.html">Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</a></li>
    <li class="dropdown"><a href="#">Ø§Ù„Ù…Ø²ÙŠØ¯ â–¾</a>
      <ul class="dropdown-menu"><li><a href="client-reviews.html">Ø«Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a></li><li><a href="about-us.html">Ù…Ù† Ù†Ø­Ù†</a></li></ul>
    </li>
  </ul>
  <div class="hamburger" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©"><span class="line"></span><span class="line"></span><span class="line"></span></div>
</nav>

<!-- Mobile Menu (unchanged) -->
<div class="menubar" dir="rtl" aria-hidden="true">
  <ul>
    <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
    <li><a href="all-products.html">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
    <li><a href="special-offers.html">Ø§Ù„Ø¹Ø±ÙˆØ¶</a></li>
    <li><a href="client-reviews.html">Ø«Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a></li>
    <li><a href="blog.html">Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</a></li>
    <li><a href="about-us.html">Ù…Ù† Ù†Ø­Ù†</a></li>
  </ul>
  <div class="side-bottom-links"><a href="privacy-policy.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a><span>|</span><a href="terms.html">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a></div>
</div>

<!-- Post -->
<section class="post-container card" id="postContainer">
  <img id="postImage" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù‚Ø§Ù„">
  <h1 id="postTitle">...</h1>
  <p class="date" id="postDate"></p>
  <div class="post-content" id="postContent"></div>
</section>

<!-- Suggested -->
<section class="suggested">
  <h2>ğŸ“Œ Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ù‚ØªØ±Ø­Ø©</h2>
  <div class="suggested-grid" id="suggestedContainer"></div>
</section>

<!-- Footer (unchanged) -->
<footer>
  <div class="footer-grid"><div class="footer-col footer-social"><h4>ØªØ§Ø¨Ø¹ÙŠÙ†Ø§</h4><div class="social-icons"><a href="https://www.facebook.com/profile.php?id=61563039704396"><i class="fab fa-facebook-f"></i></a><a href="https://www.instagram.com/dandy_skincare_cosmotics"><i class="fab fa-instagram"></i></a><a href="#"><i class="fab fa-whatsapp"></i></a></div><div class="footer-links"><a href="privacy-policy.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a><span>|</span><a href="terms.html">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a></div><p class="rights">Â© 2025 Dandy. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p></div></div>
</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDqYY4EF0Nig9aBOxmWZJA8D-4Gr4tT-UU",
    authDomain: "dandy-562fc.firebaseapp.com",
    projectId: "dandy-562fc",
    storageBucket: "dandy-562fc.appspot.com",
    messagingSenderId: "454972972842",
    appId: "1:454972972842:web:fedc5e92e258a06ca08853"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const urlParams = new URLSearchParams(window.location.search);
  const postId = urlParams.get("id");

  async function loadPost(){
    if(!postId) return;
    try{
      const doc = await db.collection('articles').doc(postId).get();
      if(!doc.exists) return;
      const data = doc.data();
      document.getElementById('postImage').src = data.image || 'images/default.jpg';
      document.getElementById('postTitle').textContent = data.title || '';
      document.getElementById('postDate').textContent = 'ğŸ“… ' + (data.date || '');
      document.getElementById('postContent').innerHTML = data.content || '';
    }catch(e){console.error(e)}
  }

  async function loadSuggested(){
    const container = document.getElementById('suggestedContainer');
    container.innerHTML = '';
    try{
      const snapshot = await db.collection('articles').orderBy('date','desc').limit(6).get();
      if(snapshot.empty){container.innerHTML = '<div class="empty-msg">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ù‚ØªØ±Ø­Ø© Ø§Ù„Ø¢Ù†.</div>';return}
      snapshot.forEach(doc =>{
        if(doc.id === postId) return; // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ù…ÙØªÙˆØ­
        const d = doc.data();
        const art = document.createElement('article');
        art.className = 'suggested-card card';
        const img = d.image || 'images/default.jpg';
        const title = d.title || 'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†';
        const excerpt = d.excerpt || (d.content ? d.content.replace(/<[^>]+>/g,'').substring(0,120) + '...' : '');
        const date = d.date ? new Date(d.date).toLocaleDateString('ar-EG',{day:'numeric',month:'short',year:'numeric'}) : '';
        const category = d.category || '';

        art.innerHTML = `
          <div class="suggested-thumb"><img loading="lazy" src="${img}" alt="${title}"></div>
          <div class="suggested-body">
            ${category ? '<div class="cat-badge">'+category+'</div>' : ''}
            <h3>${title}</h3>
            <div class="meta">${date}</div>
            <p>${excerpt}</p>
            <div class="suggested-footer"><a href="post.html?id=${doc.id}">Ø§Ù‚Ø±Ø¦ÙŠ Ø§Ù„Ù…Ø²ÙŠØ¯</a></div>
          </div>
        `;
        container.appendChild(art);
      });
    }catch(err){console.error(err);container.innerHTML = '<div class="empty-msg">Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø§Øª.</div>'}
  }

  loadPost();
  loadSuggested();
</script>

<!-- Mobile menu toggle (unchanged) -->
<script>
  const mobileNav = document.querySelector(".hamburger");
  const navbarSide = document.querySelector(".menubar");

  const toggleNav = () => {
    navbarSide.classList.toggle("active");
    mobileNav.classList.toggle("hamburger-active");
  };

  mobileNav.addEventListener("click", (e) => {
    e.stopPropagation();
    toggleNav();
  });

  document.addEventListener("click", (e) => {
    if (
      navbarSide.classList.contains("active") &&
      !navbarSide.contains(e.target) &&
      !mobileNav.contains(e.target)
    ) {
      navbarSide.classList.remove("active");
      mobileNav.classList.remove("hamburger-active");
    }
  });
</script>

<!-- Hide/Show navbar on scroll (unchanged) -->
<script>
let lastScrollTop = 0;
const nav = document.querySelector('nav');
const navHeight = nav.offsetHeight;

window.addEventListener('scroll', function () {
  const scrollTop = window.scrollY || document.documentElement.scrollTop;
  if (scrollTop > lastScrollTop) {
    nav.style.top = `-${navHeight}px`;
  } else {
    nav.style.top = `20px`;
  }
  lastScrollTop = scrollTop;
});
</script>
</body>
</html>
