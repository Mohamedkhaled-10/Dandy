<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>المدونة | Dandy</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">

    <!-- أيقونات الموقع -->
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="images/fav-icons/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/fav-icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="images/fav-icons/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="images/fav-icons/android-chrome-512x512.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/fav-icons/apple-touch-icon.png">
  <link rel="manifest" href="images/fav-icons/site.webmanifest">

  <style>
    /* ===== Hero (Full Screen Neon Glass) ===== */

/* 🎨 Dandy Blog Neon Glass Theme */
:root {
  --neon-pink: #ff2ec4;
  --neon-cyan: #00f7ff;
  --text: #000000;
  --muted: #a7a9b5;
  --glass-blur: blur(14px);
}

body {
  background: var(--bg-dark);
  color: var(--text);
  font-family: 'Tajawal', 'Cairo', sans-serif;
  margin: 0;
}

/* 🟢 Hero Section */
.hero-full {
  position: relative;
  min-height: 56vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow: hidden;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.hero-full .hero-bg {
  position: absolute;
  inset: 0;
}

.hero-full .hero-bg img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0.55;
  filter: saturate(0.9) contrast(1.05);
}

.hero-content {
  position: relative;
  z-index: 2;
  max-width: 900px;
  padding: 2rem 1rem;
}

.hero-content h1 {
  font-size: 2.6rem;
  margin-bottom: 0.6rem;
  font-weight: 800;
  background: linear-gradient(90deg, var(--neon-pink), var(--neon-cyan));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.hero-content p {
  font-size: 1.05rem;
  color: var(--muted);
}

/* 🟣 Blog Grid - updated style */
.blog {
  max-width: 1200px;
  margin: 2.2rem auto;
  padding: 0 1rem 3rem;
}

.blog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.6rem;
  align-items: start;
}

/* 🔵 Blog Card (new vertical card with image-on-top) */
.blog-card {
  display: flex;
  flex-direction: column;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 8px 26px rgba(0,0,0,0.4);
  transition: transform 0.28s ease, box-shadow 0.28s ease;
}
.blog-card:hover{transform:translateY(-8px);box-shadow:0 20px 48px rgba(0,0,0,0.6)}

.blog-card .thumb{
  width:100%;
  height:190px;
  overflow:hidden;
  flex-shrink:0;
}
.blog-card .thumb img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .45s ease}
.blog-card:hover .thumb img{transform:scale(1.06)}

.blog-card .content{
  padding:14px 16px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.blog-card .category{
  display:inline-block;padding:6px 10px;border-radius:999px;font-weight:700;background:rgba(255,255,255,0.03);color:var(--muted);font-size:0.78rem;align-self:flex-start
}
.blog-card h3{margin:0;font-size:1.05rem;color:var(--text)}
.blog-card .meta{color:var(--muted);font-size:0.86rem}
.blog-card p.excerpt{margin:0;color:var(--muted);font-size:0.95rem;line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}

.blog-card .read-wrap{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
.blog-card a.read{padding:8px 12px;border-radius:10px;text-decoration:none;font-weight:700;background:linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(0,0,0,0.03));color:#041017}

/* subtle empty state */
.empty-msg{color:var(--muted);text-align:center;padding:2rem 1rem}

/* responsive tweaks */
@media (max-width:768px){
  .hero-content h1{font-size:1.8rem}
  .blog-card .thumb{height:160px}
}

  </style>
</head>
<body>

<!-- Navigation -->
<nav dir="rtl">
  <div class="logo">
    <img src="images/logo.png" alt="الشعار" />
    <h1>DANDY</h1>
  </div>
  <ul>
    <li><a href="index.html">الرئيسية</a></li>
    <li><a href="all-products.html">المنتجات</a></li>
    <li><a href="special-offers.html">العروض</a></li>
    <li><a href="#">المقالات</a></li>
    <li class="dropdown">
      <a href="#">المزيد ▾</a>
      <ul class="dropdown-menu">
        <li><a href="client-reviews.html">ثقة العملاء</a></li>
        <li><a href="about-us.html">من نحن</a></li>
      </ul>
    </li>
  </ul>
  <div class="hamburger" aria-label="القائمة">
    <span class="line"></span>
    <span class="line"></span>
    <span class="line"></span>
  </div>
</nav>

<!-- Mobile Menu -->
<div class="menubar" dir="rtl" aria-hidden="true">
  <ul>
    <li><a href="index.html">الرئيسية</a></li>
    <li><a href="all-products.html">المنتجات</a></li>
    <li><a href="special-offers.html">العروض</a></li>
    <li><a href="client-reviews.html">ثقة العملاء</a></li>
    <li><a href="about-us.html">من نحن</a></li>
  </ul>

  <div class="side-bottom-links">
    <a href="privacy-policy.html">سياسة الخصوصية</a>
    <span>|</span>
    <a href="terms.html">الشروط والأحكام</a>
  </div>
</div>

<!-- ======= البودي: هيرو بدون بحث + شبكّة مقالات مُحسّنة ======= -->

<section class="hero-full">
  <div class="hero-bg">
    <img src="images/hero/pngwing.com (11).png" alt="Blog" class="active">
    <div class="overlay"></div>
  </div>
  <div class="hero-content">
    <h1>مدونة Dandy</h1>
    <p>أفكار، وصفات، ومراجعات بسيطة للعناية بالبشرة—مجمعة بطريقة سهلة وسريعة للقراءة.</p>
  </div>
</section>

<section class="blog" aria-labelledby="latestTitle">
  <h2 id="latestTitle" style="text-align:center;margin:1.6rem 0">📝 أحدث المقالات</h2>
  <div class="blog-grid" id="blogContainer">
    <!-- cards injected here -->
  </div>
</section>

<!-- Footer -->
<footer>
  <div class="footer-grid">
    <div class="footer-col footer-social">
      <h4>تابعينا</h4>
      <div class="social-icons">
        <a href="https://www.facebook.com/profile.php?id=61563039704396"><i class="fab fa-facebook-f"></i></a>
        <a href="https://www.instagram.com/dandy_skincare_cosmotics"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-whatsapp"></i></a>
      </div>

      <!-- روابط الصفحات -->
      <div class="footer-links">
        <a href="privacy-policy.html">سياسة الخصوصية</a>
        <span>|</span>
        <a href="terms.html">الشروط والأحكام</a>
      </div>

      <p class="rights">© 2025 Dandy. جميع الحقوق محفوظة.</p>
    </div>
  </div>
</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDqYY4EF0Nig9aBOxmWZJA8D-4Gr4tT-UU",
    authDomain: "dandy-562fc.firebaseapp.com",
    projectId: "dandy-562fc",
    storageBucket: "dandy-562fc.appspot.com",
    messagingSenderId: "454972972842",
    appId: "1:454972972842:web:fedc5e92e258a06ca08853"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  function niceDate(raw){
    try{const d=new Date(raw);if(isNaN(d)) return raw;return d.toLocaleDateString('ar-EG',{day:'numeric',month:'short',year:'numeric'})}catch(e){return raw}
  }

  async function loadArticles(){
    const container = document.getElementById('blogContainer');
    container.innerHTML = '';
    try{
      const snapshot = await db.collection('articles').orderBy('date','desc').get();
      if(snapshot.empty){ container.innerHTML = '<div class="empty-msg">لا توجد مقالات بعد.</div>'; return; }

      snapshot.forEach(doc => {
        const data = doc.data();
        const img = data.image ? data.image : 'images/default.jpg';
        const title = data.title ? data.title : 'عنوان غير متوفر';
        const date = data.date ? niceDate(data.date) : '';
        const excerpt = data.excerpt ? data.excerpt : (data.content ? (data.content.replace(/<[^>]+>/g,'').substring(0,180) + '...') : '');
        const category = data.category ? data.category : '';

        const card = document.createElement('article');
        card.className = 'blog-card';
        card.innerHTML = `
          <div class="thumb"><img loading="lazy" src="${img}" alt="${title}"></div>
          <div class="content">
            ${category ? `<span class="category">${category}</span>` : ''}
            <div style="display:flex;justify-content:space-between;align-items:start;gap:8px;flex-wrap:wrap">
              <h3>${title}</h3>
              <div class="meta">${date}</div>
            </div>
            <p class="excerpt">${excerpt}</p>
            <div class="read-wrap"><a class="read" href="post.html?id=${doc.id}">اقرئي المزيد</a></div>
          </div>
        `;
        container.appendChild(card);
      });

    }catch(err){
      console.error(err);
      container.innerHTML = '<div class="empty-msg">حدث خطأ أثناء جلب المقالات.</div>';
    }
  }
  loadArticles();
</script>

<!-- Mobile menu toggle (unchanged) -->
<script>
  const mobileNav = document.querySelector(".hamburger");
  const navbarSide = document.querySelector(".menubar");

  const toggleNav = () => {
    navbarSide.classList.toggle("active");
    mobileNav.classList.toggle("hamburger-active");
  };

  mobileNav.addEventListener("click", (e) => {
    e.stopPropagation();
    toggleNav();
  });

  document.addEventListener("click", (e) => {
    if (
      navbarSide.classList.contains("active") &&
      !navbarSide.contains(e.target) &&
      !mobileNav.contains(e.target)
    ) {
      navbarSide.classList.remove("active");
      mobileNav.classList.remove("hamburger-active");
    }
  });
</script>

<!-- Hide/Show navbar on scroll (unchanged) -->
<script>
let lastScrollTop = 0;
const nav = document.querySelector('nav');
const navHeight = nav.offsetHeight;

window.addEventListener('scroll', function () {
  const scrollTop = window.scrollY || document.documentElement.scrollTop;
  if (scrollTop > lastScrollTop) {
    nav.style.top = `-${navHeight}px`;
  } else {
    nav.style.top = `20px`;
  }
  lastScrollTop = scrollTop;
});
</script>
</body>
</html>
